<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ù…Ø³Ø¨Ø­Ø©</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Ø§Ù„Ù…Ø³Ø¨Ø­Ø© - ØªØ·Ø¨ÙŠÙ‚ Ù…Ø³Ø¨Ø­Ø© Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ© Ø¨Ø³ÙŠØ· ÙŠØ³Ø§Ø¹Ø¯Ùƒ Ø¹Ù„Ù‰ Ø¹Ø¯Ù‘ Ø§Ù„Ø£Ø°ÙƒØ§Ø± ÙˆØ§Ù„ØªØ³Ø§Ø¨ÙŠØ­ Ø¨Ø³Ù‡ÙˆÙ„Ø©. ÙŠØ­ÙØ¸ Ø£Ø¹Ù„Ù‰ Ø¹Ø¯Ø¯ Ù„ÙƒÙ„ Ø°ÙƒØ±ØŒ ÙˆÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø§Ù†ØªØ±Ù†Øª Ø¹Ù†Ø¯ ØªØ«Ø¨ÙŠØªÙ‡ ÙƒØªØ·Ø¨ÙŠÙ‚ (PWA) Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ. ØµØ¯Ù‚Ø© Ø¬Ø§Ø±ÙŠØ©.">
    <link rel="canonical" href="https://yelsabbagh.github.io/AlMisbahah/">

    <!-- Open Graph / Facebook / Social Media Meta Tags -->
    <meta property="og:title" content="Ø§Ù„Ù…Ø³Ø¨Ø­Ø© - Ø¹Ø¯Ø§Ø¯ Ø£Ø°ÙƒØ§Ø± Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
    <meta property="og:description" content="ØªØ·Ø¨ÙŠÙ‚ Ø¨Ø³ÙŠØ· ÙˆÙ…Ø¬Ø§Ù†ÙŠ Ù„Ø¹Ø¯ Ø§Ù„Ø£Ø°ÙƒØ§Ø± ÙˆØ§Ù„ØªØ³Ø§Ø¨ÙŠØ­ØŒ ÙŠØ¹Ù…Ù„ Ø¨Ø¯ÙˆÙ† Ø§Ù†ØªØ±Ù†Øª ÙˆÙŠØ­ÙØ¸ ØªÙ‚Ø¯Ù…Ùƒ.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yelsabbagh.github.io/AlMisbahah/">
    <meta property="og:image" content="https://yelsabbagh.github.io/AlMisbahah/icons/icon-512x512.png">

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Theme Color for Browsers -->
    <meta name="theme-color" content="#e8e8e8"/>

    <!-- iOS Specific Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Ø§Ù„Ù…Ø³Ø¨Ø­Ø©">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">

    <!-- Favicon for Browser Tab -->
    <link rel="icon" href="icons/icon-192x192.png" type="image/png">

    <style>
        /* --- Basic Reset & Body --- */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
            direction: rtl;
            background-color: #f4f1ea;
            color: #4a4a4a;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            line-height: 1.6;
        }

        /* --- Top Share Bar --- */
        #top-share-bar { background-color: #e0e0e0; padding: 8px 15px; text-align: center; width: 100%; box-shadow: 0 1px 3px rgba(0,0,0,0.1); z-index: 900; }
        .top-share-buttons { display: flex; justify-content: center; align-items: center; gap: 15px; }
        .top-share-buttons span { font-size: 0.9em; color: #555; margin-left: 10px; }
        .top-share-buttons a { display: inline-flex; align-items: center; text-decoration: none; transition: transform 0.2s ease, opacity 0.2s ease; }
        .top-share-buttons a:hover { opacity: 0.8; transform: scale(1.05); }
        .top-share-buttons img { width: 28px; height: 28px; vertical-align: middle; }
        #copy-status-top { font-size: 0.8em; color: green; margin-right: 10px; min-height: 1em; min-width: 50px; display: inline-block; text-align: center; }

        /* --- Reminder Area --- */
        #reminder-area { text-align: center; padding: 5px 15px 10px 15px; background-color: #f0f0f0; border-bottom: 1px solid #e0e0e0; }
        #enable-reminders-button { margin: 5px auto; padding: 8px 15px; font-size: 0.9em; cursor: pointer; background-color: #2a6f6f; color: white; border: none; border-radius: 6px; transition: background-color 0.3s ease; }
        #enable-reminders-button:hover { background-color: #1e5252; }
        #enable-reminders-button:disabled { opacity: 0.7; cursor: not-allowed; }
        #reminder-status { font-size: 0.85em; color: #555; min-height: 1em; margin-top: 5px; }

        /* --- Main Container --- */
        .container { width: 95%; max-width: 1280px; margin: 20px auto; flex-grow: 1; display: flex; flex-direction: column; }

        /* --- Counter Area --- */
        #counter-area { background-color: #e8e8e8; padding: 25px 20px; min-height: 75vh; border-radius: 12px; text-align: center; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08); position: relative; border: 1px solid #dcdcdc; display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; transition: transform 0.1s ease; user-select: none; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; outline: none; }
        #counter-area:active:not(:has(#reset-button:active)) { transform: scale(0.99); }
        #counter-area:has(#reset-button:active) { transform: none; cursor: default; }
        #reset-button:active { transform: scale(0.98); }
        #selected-dhikr { font-size: 1.8em; color: #2a6f6f; margin-bottom: 15px; min-height: 1.5em; font-weight: bold; width: 90%; pointer-events: none; }
        #counter-display { margin-bottom: 20px; pointer-events: none; display: flex; flex-direction: column; align-items: center; }
        #counter-display .hits { font-size: 4em; font-weight: bold; color: #8b5a2b; display: block; }
        #counter-display .label { font-size: 1.1em; color: #666; }
        .top-score { font-size: 1em; color: #b8860b; margin-top: 10px; font-weight: bold; } /* Label will be updated by JS */
        #reset-button { position: absolute; top: 15px; right: 15px; padding: 8px 15px; font-size: 0.9em; font-family: inherit; cursor: pointer; background-color: #8b5a2b; color: #f4f1ea; border: none; border-radius: 6px; transition: background-color 0.3s ease, transform 0.1s ease; box-shadow: 0 1px 3px rgba(0,0,0,0.1); z-index: 10; font-weight: bold;}
        #reset-button:hover { background-color: #a06b3e; }

        /* --- Scroll Down Arrow --- */
        #scroll-down-arrow { display: block; text-align: center; margin-top: 20px; margin-bottom: 30px; font-size: 3em; color: #2a6f6f; cursor: pointer; transition: color 0.3s ease, transform 0.1s ease; line-height: 1; width: 100%; }
        #scroll-down-arrow:hover { color: #1e5252; }
        #scroll-down-arrow:active { transform: translateY(2px); }

        /* --- Dhikr Selection Area --- */
        #dhikr-selection { padding-top: 20px; display: flex; flex-wrap: wrap; gap: 20px; justify-content: center; margin-bottom: 30px; }
        .dhikr-option { background-color: #ffffff; border: 1px solid #e0e0e0; border-radius: 10px; padding: 20px 15px; width: calc(25% - 15px); min-width: 180px; text-align: right; cursor: pointer; transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease; display: flex; flex-direction: column; min-height: 150px; }
        .dhikr-text { font-size: 1.3em; font-weight: 600; color: #2a6f6f; margin-bottom: 10px; flex-grow: 1; }
        .dhikr-evidence { font-size: 0.75em; color: #777; line-height: 1.5; border-top: 1px dashed #eee; padding-top: 10px; margin-top: auto; }
        .dhikr-evidence strong { color: #555; font-weight: normal; display: block; margin-top: 5px; }
        .dhikr-option:hover { transform: translateY(-4px); box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1); }
        .dhikr-option.selected { background-color: #2a6f6f; color: #ffffff; border-color: #1e5252; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.15); }
        .dhikr-option.selected .dhikr-text { color: #ffffff; }
        .dhikr-option.selected .dhikr-evidence { color: #e0f2f1; border-top-color: #4a8a8a; }
        .dhikr-option.selected .dhikr-evidence strong { color: #c0dfdf; }

        /* --- Footer --- */
        footer { text-align: center; padding: 10px; margin-top: auto; font-size: 0.9em; color: #888; width: 100%; background-color: #e8e8e8; border-top: 1px solid #dcdcdc; min-height: 1em; }

        /* --- Share Popup --- */
        #share-popup-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); display: none; justify-content: center; align-items: center; z-index: 999; }
        #share-popup { position: relative; background-color: #ffffff; padding: 35px 25px 25px 25px; border-radius: 12px; box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2); z-index: 1000; max-width: 90%; width: 450px; text-align: right; border: 1px solid #ddd; }
        #close-popup-button { position: absolute; top: 10px; left: 10px; font-size: 1.8em; font-weight: bold; line-height: 1; color: #aaa; cursor: pointer; background: none; border: none; padding: 0 5px; transition: color 0.2s ease; }
        #close-popup-button:hover { color: #555; }
        #share-popup h3 { color: #2a6f6f; margin-bottom: 15px; font-size: 1.4em; text-align: center; }
        #share-popup p { margin-bottom: 12px; line-height: 1.7; font-size: 0.95em; color: #555; }
        #share-popup p strong { color: #8b5a2b; }
        .popup-section { border-top: 1px dashed #eee; padding-top: 15px; margin-top: 15px; }
        .popup .share-buttons { display: flex; justify-content: center; gap: 20px; margin-top: 10px; flex-wrap: wrap; }
        .popup .share-buttons a { display: inline-block; text-decoration: none; transition: transform 0.2s ease; }
        .popup .share-buttons a:hover { transform: scale(1.1); }
        .popup .share-buttons img { width: 40px; height: 40px; vertical-align: middle; }
        #copy-status-popup { display: block; text-align: center; margin-top: 10px; font-size: 0.9em; color: green; min-height: 1em; min-width: 80px; }

        /* --- Responsive Adjustments --- */
        @media (max-width: 1200px) { .dhikr-option { width: calc(33.333% - 14px); } }
        @media (max-width: 768px) {
             .dhikr-option { width: calc(50% - 10px); }
             #selected-dhikr { font-size: 1.5em; }
             #counter-display .hits { font-size: 3.5em; }
             #scroll-down-arrow { font-size: 2.5em; margin-top: 15px; margin-bottom: 25px; }
             #counter-area { min-height: 70vh; }
             .top-share-buttons span { display: none; }
             #copy-status-top { margin-right: 0; }
        }
        @media (max-width: 480px) {
             .dhikr-option { width: 100%; }
             #reset-button { top: 10px; left: 10px; padding: 6px 10px; font-size: 0.8em; }
             #scroll-down-arrow { font-size: 2em; margin-top: 10px; margin-bottom: 20px; }
             #top-share-bar { padding: 6px 10px; }
             .top-share-buttons img { width: 24px; height: 24px; }
             .top-share-buttons { gap: 10px; }
             #share-popup { width: 90%; padding: 30px 15px 20px 15px; }
             #share-popup h3 { font-size: 1.2em; }
             #share-popup p { font-size: 0.9em; }
             .popup .share-buttons { gap: 15px; }
             .popup .share-buttons img { width: 35px; height: 35px; }
             #reminder-area { padding: 5px 10px 8px 10px; }
             #enable-reminders-button { font-size: 0.8em; padding: 6px 10px; }
             #reminder-status { font-size: 0.8em; }
        }
    </style>
</head>
<body>

    <!-- Permanent Top Share Bar -->
    <div id="top-share-bar">
        <strong style="color: #8b5a2b;">Ø´Ø§Ø±Ùƒ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ ÙˆÙ„Ùƒ Ø§Ù„Ø£Ø¬Ø±!</strong>
        <div class="top-share-buttons">
            <a href="#" id="whatsapp-share-top" aria-label="Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨"><img src="icons/whatsapp-icon.png" alt="WhatsApp"></a>
            <a href="#" id="telegram-share-top" aria-label="Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ø¨Ø± ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…"><img src="icons/telegram-icon.png" alt="Telegram"></a>
            <a href="#" id="copy-link-top" aria-label="Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· ÙˆØ§Ù„Ø±Ø³Ø§Ù„Ø©"><img src="icons/copy-link-icon.png" alt="Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·"></a>
        </div>
    </div>

    <div class="container">
        <!-- Counter Area -->
        <div id="counter-area" tabindex="0">
            <button id="reset-button">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¶Ø¨Ø·</button>
            <div id="selected-dhikr">Ø§Ø®ØªØ± Ø°ÙƒØ±Ø§Ù‹ Ù„Ù„Ø¨Ø¯Ø¡</div>
            <div id="counter-display">
                <span class="hits">0</span>
                <span class="label">Ù…Ø±Ø§Øª</span>
                <div class="top-score">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠ: 0</div> <!-- Updated Label -->
            </div>
        </div>
        <!-- Scroll Down Arrow -->
        <div id="scroll-down-arrow">â†“</div>
        <!-- Dhikr Selection Grid -->
        <div id="dhikr-selection">

            <!-- 1. (Previously Option 1) - Tahlil 100x: Immense comprehensive reward -->
            <div class="dhikr-option" data-dhikr="Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡ØŒ Ù„Ù‡ Ø§Ù„Ù…Ù„Ùƒ ÙˆÙ„Ù‡ Ø§Ù„Ø­Ù…Ø¯ ÙˆÙ‡Ùˆ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ Ù‚Ø¯ÙŠØ±">
                <span class="dhikr-text">Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ ÙˆØ­Ø¯Ù‡ Ù„Ø§ Ø´Ø±ÙŠÙƒ Ù„Ù‡ØŒ Ù„Ù‡ Ø§Ù„Ù…Ù„Ùƒ ÙˆÙ„Ù‡ Ø§Ù„Ø­Ù…Ø¯ ÙˆÙ‡Ùˆ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡ Ù‚Ø¯ÙŠØ± (100 Ù…Ø±Ø©)</span>
                <span class="dhikr-evidence">
                    Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ï·º:
        "...ÙƒØ§Ù†Øª Ù„Ù‡ Ø¹Ø¯Ù„ Ø¹Ø´Ø± Ø±Ù‚Ø§Ø¨ØŒ ÙˆÙƒÙØªØ¨Øª Ù„Ù‡ Ù…Ø§Ø¦Ø© Ø­Ø³Ù†Ø©ØŒ ÙˆÙ…ÙØ­ÙŠØª Ø¹Ù†Ù‡ Ù…Ø§Ø¦Ø© Ø³ÙŠØ¦Ø©ØŒ ÙˆÙƒØ§Ù†Øª Ù„Ù‡ Ø­Ø±Ø²Ù‹Ø§ Ù…Ù† Ø§Ù„Ø´ÙŠØ·Ø§Ù† ÙŠÙˆÙ…Ù‡ Ø°Ù„Ùƒ Ø­ØªÙ‰ ÙŠÙ…Ø³ÙŠØŒ ÙˆÙ„Ù… ÙŠØ£Øª Ø£Ø­Ø¯ Ø¨Ø£ÙØ¶Ù„ Ù…Ù…Ø§ Ø¬Ø§Ø¡ Ø¨Ù‡ Ø¥Ù„Ø§ Ø£Ø­Ø¯ Ø¹Ù…Ù„ Ø£ÙƒØ«Ø± Ù…Ù† Ø°Ù„Ùƒ".
        "Ø¹Ø´Ø± Ù…Ø±Ø§ØªØŒ ÙƒØ§Ù† ÙƒÙ…Ù† Ø£Ø¹ØªÙ‚ Ø£Ø±Ø¨Ø¹Ø© Ø£Ù†ÙØ³ Ù…Ù† ÙˆÙ„Ø¯ Ø¥Ø³Ù…Ø§Ø¹ÙŠÙ„..."
                    <strong>(Ø±ÙˆØ§Ù‡ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ ÙˆÙ…Ø³Ù„Ù…)</strong>
                </span>
            </div>
        
            <!-- 2. (Previously Option 15) - Best Dhikr -->
            <div class="dhikr-option" data-dhikr="Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡">
                <span class="dhikr-text">Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡</span>
                <span class="dhikr-evidence">
                    Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ï·º: "Ø£ÙØ¶Ù„ Ø§Ù„Ø°ÙƒØ±: Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡".
                    <strong>(Ø±ÙˆØ§Ù‡ Ø§Ù„ØªØ±Ù…Ø°ÙŠ ÙˆØ­Ø³Ù†Ù‡ Ø§Ù„Ø£Ù„Ø¨Ø§Ù†ÙŠ)</strong>
                </span>
            </div>
        
            <!-- 3. (Previously Option 2) - Most Beloved Words -->
            <div class="dhikr-option" data-dhikr="Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ØŒ ÙˆØ§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ØŒ ÙˆÙ„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ØŒ ÙˆØ§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±">
                <span class="dhikr-text">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ØŒ ÙˆØ§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ØŒ ÙˆÙ„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ØŒ ÙˆØ§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±</span>
                <span class="dhikr-evidence">
                    Ù‚Ø§Ù„ Ø§Ù„Ù†Ø¨ÙŠ ï·º: "Ø£Ø­Ø¨ Ø§Ù„ÙƒÙ„Ø§Ù… Ø¥Ù„Ù‰ Ø§Ù„Ù„Ù‡ Ø£Ø±Ø¨Ø¹: Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ØŒ ÙˆØ§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ØŒ ÙˆÙ„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ØŒ ÙˆØ§Ù„Ù„Ù‡ Ø£ÙƒØ¨Ø±ØŒ Ù„Ø§ ÙŠØ¶Ø±Ùƒ Ø¨Ø£ÙŠÙ‡Ù† Ø¨Ø¯Ø£Øª". ÙˆÙ‚Ø§Ù„ ï·º: "...Ø£Ø­Ø¨ Ø¥Ù„ÙŠ Ù…Ù…Ø§ Ø·Ù„Ø¹Øª Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø´Ù…Ø³".
                    <strong>(Ø±ÙˆØ§Ù‡ Ù…Ø³Ù„Ù…)</strong>
                </span>
            </div>
        
            <!-- 4. (Previously Option 5) - Heavy on Scales, Beloved to Ar-Rahman -->
            <div class="dhikr-option" data-dhikr="Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ…">
                <span class="dhikr-text">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ…</span>
                <span class="dhikr-evidence">
                    Ù‚Ø§Ù„ Ø§Ù„Ù†Ø¨ÙŠ ï·º: "ÙƒÙ„Ù…ØªØ§Ù† Ø®ÙÙŠÙØªØ§Ù† Ø¹Ù„Ù‰ Ø§Ù„Ù„Ø³Ø§Ù†ØŒ Ø«Ù‚ÙŠÙ„ØªØ§Ù† ÙÙŠ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ØŒ Ø­Ø¨ÙŠØ¨ØªØ§Ù† Ø¥Ù„Ù‰ Ø§Ù„Ø±Ø­Ù…Ù†...".
                    <strong>(Ø±ÙˆØ§Ù‡ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ ÙˆÙ…Ø³Ù„Ù…)</strong>
                </span>
            </div>
        
            <!-- 5. (Previously Option 10) - Outweighs Prolonged Dhikr -->
            <div class="dhikr-option" data-dhikr="Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡ Ø¹Ø¯Ø¯ Ø®Ù„Ù‚Ù‡ ÙˆØ±Ø¶Ø§ Ù†ÙØ³Ù‡ ÙˆØ²Ù†Ø© Ø¹Ø±Ø´Ù‡ ÙˆÙ…Ø¯Ø§Ø¯ ÙƒÙ„Ù…Ø§ØªÙ‡">
                <span class="dhikr-text"> (3 Ù…Ø±Ø§Øª) Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡ Ø¹Ø¯Ø¯ Ø®Ù„Ù‚Ù‡ ÙˆØ±Ø¶Ø§ Ù†ÙØ³Ù‡ ÙˆØ²Ù†Ø© Ø¹Ø±Ø´Ù‡ ÙˆÙ…Ø¯Ø§Ø¯ ÙƒÙ„Ù…Ø§ØªÙ‡</span>
                <span class="dhikr-evidence">
                     Ø¹Ù† Ø¬ÙˆÙŠØ±ÙŠØ© Ø±Ø¶ÙŠ Ø§Ù„Ù„Ù‡ Ø¹Ù†Ù‡Ø§ Ø£Ù† Ø§Ù„Ù†Ø¨ÙŠ ï·º Ù‚Ø§Ù„ Ù„Ù‡Ø§: "Ù„Ù‚Ø¯ Ù‚Ù„ØªÙ Ø¨Ø¹Ø¯Ùƒ Ø£Ø±Ø¨Ø¹ ÙƒÙ„Ù…Ø§ØªØŒ Ø«Ù„Ø§Ø« Ù…Ø±Ø§ØªØŒ Ù„Ùˆ ÙˆØ²Ù†Øª Ø¨Ù…Ø§ Ù‚Ù„ØªÙ Ù…Ù†Ø° Ø§Ù„ÙŠÙˆÙ… Ù„ÙˆØ²Ù†ØªÙ‡Ù†...".
                    <strong>(Ø±ÙˆØ§Ù‡ Ù…Ø³Ù„Ù…)</strong>
                </span>
            </div>
        
            <!-- 6. (Previously Option 8) - More & Better than Day/Night Dhikr -->
            <div class="dhikr-option" data-dhikr="Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø¹Ø¯Ø¯ Ù…Ø§ Ø®Ù„Ù‚ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ù…Ù„Ø¡ Ù…Ø§ Ø®Ù„Ù‚ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø¹Ø¯Ø¯ Ù…Ø§ ÙÙŠ Ø§Ù„Ø£Ø±Ø¶ ÙˆØ§Ù„Ø³Ù…Ø§Ø¡ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ù…Ù„Ø¡ Ù…Ø§ ÙÙŠ Ø§Ù„Ø£Ø±Ø¶ ÙˆØ§Ù„Ø³Ù…Ø§Ø¡ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø¹Ø¯Ø¯ Ù…Ø§ Ø£Ø­ØµÙ‰ ÙƒØªØ§Ø¨Ù‡ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ù…Ù„Ø¡ Ù…Ø§ Ø£Ø­ØµÙ‰ ÙƒØªØ§Ø¨Ù‡ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø¹Ø¯Ø¯ ÙƒÙ„ Ø´ÙŠØ¡ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ù…Ù„Ø¡ ÙƒÙ„ Ø´ÙŠØ¡ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ø¹Ø¯Ø¯ Ù…Ø§ Ø®Ù„Ù‚ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ù…Ù„Ø¡ Ù…Ø§ Ø®Ù„Ù‚ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ø¹Ø¯Ø¯ Ù…Ø§ ÙÙŠ Ø§Ù„Ø£Ø±Ø¶ ÙˆØ§Ù„Ø³Ù…Ø§Ø¡ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ù…Ù„Ø¡ Ù…Ø§ ÙÙŠ Ø§Ù„Ø£Ø±Ø¶ ÙˆØ§Ù„Ø³Ù…Ø§Ø¡ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ø¹Ø¯Ø¯ Ù…Ø§ Ø£Ø­ØµÙ‰ ÙƒØªØ§Ø¨Ù‡ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ù…Ù„Ø¡ Ù…Ø§ Ø£Ø­ØµÙ‰ ÙƒØªØ§Ø¨Ù‡ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ø¹Ø¯Ø¯ ÙƒÙ„ Ø´ÙŠØ¡ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ù…Ù„Ø¡ ÙƒÙ„ Ø´ÙŠØ¡">
                <span class="dhikr-text">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø¹Ø¯Ø¯ Ù…Ø§ Ø®Ù„Ù‚ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ù…Ù„Ø¡ Ù…Ø§ Ø®Ù„Ù‚ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø¹Ø¯Ø¯ Ù…Ø§ ÙÙŠ Ø§Ù„Ø£Ø±Ø¶ ÙˆØ§Ù„Ø³Ù…Ø§Ø¡ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ù…Ù„Ø¡ Ù…Ø§ ÙÙŠ Ø§Ù„Ø£Ø±Ø¶ ÙˆØ§Ù„Ø³Ù…Ø§Ø¡ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø¹Ø¯Ø¯ Ù…Ø§ Ø£Ø­ØµÙ‰ ÙƒØªØ§Ø¨Ù‡ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ù…Ù„Ø¡ Ù…Ø§ Ø£Ø­ØµÙ‰ ÙƒØªØ§Ø¨Ù‡ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ø¹Ø¯Ø¯ ÙƒÙ„ Ø´ÙŠØ¡ØŒ Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ Ù…Ù„Ø¡ ÙƒÙ„ Ø´ÙŠØ¡ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ø¹Ø¯Ø¯ Ù…Ø§ Ø®Ù„Ù‚ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ù…Ù„Ø¡ Ù…Ø§ Ø®Ù„Ù‚ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ø¹Ø¯Ø¯ Ù…Ø§ ÙÙŠ Ø§Ù„Ø£Ø±Ø¶ ÙˆØ§Ù„Ø³Ù…Ø§Ø¡ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ù…Ù„Ø¡ Ù…Ø§ ÙÙŠ Ø§Ù„Ø£Ø±Ø¶ ÙˆØ§Ù„Ø³Ù…Ø§Ø¡ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ø¹Ø¯Ø¯ Ù…Ø§ Ø£Ø­ØµÙ‰ ÙƒØªØ§Ø¨Ù‡ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ù…Ù„Ø¡ Ù…Ø§ Ø£Ø­ØµÙ‰ ÙƒØªØ§Ø¨Ù‡ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ø¹Ø¯Ø¯ ÙƒÙ„ Ø´ÙŠØ¡ØŒ Ø§Ù„Ø­Ù…Ø¯ Ù„Ù„Ù‡ Ù…Ù„Ø¡ ÙƒÙ„ Ø´ÙŠØ¡</span>
                <span class="dhikr-evidence">
                    Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ï·º Ù„Ø£Ø¨ÙŠ Ø£Ù…Ø§Ù…Ø©: "Ø£Ù„Ø§ Ø£Ø®Ø¨Ø±Ùƒ Ø¨Ø£ÙƒØ«Ø± ÙˆØ£ÙØ¶Ù„ Ù…Ù† Ø°ÙƒØ±Ùƒ Ø¨Ø§Ù„Ù„ÙŠÙ„ ÙˆØ§Ù„Ù†Ù‡Ø§Ø±ØŸ..." .
                    <strong>(ØµØ­Ø­Ù‡ Ø§Ù„Ø£Ù„Ø¨Ø§Ù†ÙŠ ÙÙŠ ØµØ­ÙŠØ­ Ø§Ù„ØªØ±ØºÙŠØ¨: 1575)</strong>
                </span>
            </div>
        
            <!-- 7. (Previously Option 6) - Treasure from Jannah -->
            <div class="dhikr-option" data-dhikr="Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡">
                <span class="dhikr-text">Ù„Ø§ Ø­ÙˆÙ„ ÙˆÙ„Ø§ Ù‚ÙˆØ© Ø¥Ù„Ø§ Ø¨Ø§Ù„Ù„Ù‡</span>
                <span class="dhikr-evidence">
                    Ù‚Ø§Ù„ ï·º Ù„Ø£Ø¨ÙŠ Ù…ÙˆØ³Ù‰ Ø§Ù„Ø£Ø´Ø¹Ø±ÙŠ: "Ø£Ù„Ø§ Ø£Ø¯Ù„Ùƒ Ø¹Ù„Ù‰ ÙƒÙ†Ø² Ù…Ù† ÙƒÙ†ÙˆØ² Ø§Ù„Ø¬Ù†Ø©ØŸ"...".
                    <strong>(Ø±ÙˆØ§Ù‡ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ ÙˆÙ…Ø³Ù„Ù…)</strong>
                </span>
            </div>
        
            <!-- 8. (Previously Option 4) - Salawat: 10 Blessings from Allah -->
            <div class="dhikr-option" data-dhikr="Ø§Ù„Ù„Ù‡Ù… ØµÙ„ Ø¹Ù„Ù‰ Ù…Ø­Ù…Ø¯ ÙˆØ¹Ù„Ù‰ Ø¢Ù„ Ù…Ø­Ù…Ø¯">
                <span class="dhikr-text">Ø§Ù„Ù„Ù‡Ù… ØµÙ„ Ø¹Ù„Ù‰ Ù…Ø­Ù…Ø¯ ÙˆØ¹Ù„Ù‰ Ø¢Ù„ Ù…Ø­Ù…Ø¯</span>
                <span class="dhikr-evidence">
                    Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ï·º: "Ù…Ù† ØµÙ„Ù‰ Ø¹Ù„ÙŠÙ‘ ØµÙ„Ø§Ø©ØŒ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ Ø¨Ù‡Ø§ Ø¹Ø´Ø±Ù‹Ø§".
                    <strong>(Ø±ÙˆØ§Ù‡ Ù…Ø³Ù„Ù…)</strong>. ÙˆÙ‚Ø§Ù„ ï·º: "Ø¥Ù† Ø£ÙˆÙ„Ù‰ Ø§Ù„Ù†Ø§Ø³ Ø¨ÙŠ ÙŠÙˆÙ… Ø§Ù„Ù‚ÙŠØ§Ù…Ø© Ø£ÙƒØ«Ø±Ù‡Ù… Ø¹Ù„ÙŠÙ‘ ØµÙ„Ø§Ø©". <strong>(Ø­Ø¯ÙŠØ« Ø­Ø³Ù†)</strong>
                </span>
            </div>
        
        
            <!-- 10. (Previously Option 14) - Plants a Palm Tree in Jannah -->
            <div class="dhikr-option" data-dhikr="Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡"> <!-- Simplified data-dhikr to match text -->
                <span class="dhikr-text">Ø³Ø¨Ø­Ø§Ù† Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø­Ù…Ø¯Ù‡</span>
                <span class="dhikr-evidence">
                    Ù‚Ø§Ù„ Ø§Ù„Ù†Ø¨ÙŠ ï·º: "... ØºØ±Ø³Øª Ù„Ù‡ Ù†Ø®Ù„Ø© ÙÙŠ Ø§Ù„Ø¬Ù†Ø©".
                    <strong>(Ø±ÙˆØ§Ù‡ Ø§Ù„ØªØ±Ù…Ø°ÙŠ ÙˆØµØ­Ø­Ù‡ Ø§Ù„Ø£Ù„Ø¨Ø§Ù†ÙŠ)</strong>
                </span>
            </div>
        
             <!-- 11. (Previously Option 9) - Allah Obliges Himself to Please the Sayer -->
            <div class="dhikr-option" data-dhikr="Ø±Ø¶ÙŠØª Ø¨Ø§Ù„Ù„Ù‡ Ø±Ø¨Ù‹Ø§ØŒ ÙˆØ¨Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ø¯ÙŠÙ†Ù‹Ø§ØŒ ÙˆØ¨Ù…Ø­Ù…Ø¯Ù ï·º Ù†Ø¨ÙŠÙ‹Ø§">
                <span class="dhikr-text">(3 Ù…Ø±Ø§Øª) Ø±Ø¶ÙŠØª Ø¨Ø§Ù„Ù„Ù‡ Ø±Ø¨Ù‹Ø§ØŒ ÙˆØ¨Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ø¯ÙŠÙ†Ù‹Ø§ØŒ ÙˆØ¨Ù…Ø­Ù…Ø¯Ù ï·º Ù†Ø¨ÙŠÙ‹Ø§</span>
                <span class="dhikr-evidence">
                    Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ï·º: "Ù…Ø§ Ù…Ù† Ø¹Ø¨Ø¯ Ù…Ø³Ù„Ù… ÙŠÙ‚ÙˆÙ„ Ø­ÙŠÙ† ÙŠØµØ¨Ø­ ÙˆØ­ÙŠÙ† ÙŠÙ…Ø³ÙŠ Ø«Ù„Ø§Ø« Ù…Ø±Ø§Øª: Ø±Ø¶ÙŠØª Ø¨Ø§Ù„Ù„Ù‡ Ø±Ø¨Ù‹Ø§ØŒ ÙˆØ¨Ø§Ù„Ø¥Ø³Ù„Ø§Ù… Ø¯ÙŠÙ†Ù‹Ø§ØŒ ÙˆØ¨Ù…Ø­Ù…Ø¯ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ³Ù„Ù… Ù†Ø¨ÙŠÙ‹Ø§ØŒ Ø¥Ù„Ø§ ÙƒØ§Ù† Ø­Ù‚Ù‹Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ù„Ù‡ Ø£Ù† ÙŠØ±Ø¶ÙŠÙ‡ ÙŠÙˆÙ… Ø§Ù„Ù‚ÙŠØ§Ù…Ø©".
                    <strong>(Ø±ÙˆØ§Ù‡ Ø£Ø­Ù…Ø¯ ÙˆØ­Ø³Ù†Ù‡ Ø§Ù„Ø£Ù„Ø¨Ø§Ù†ÙŠ ÙÙŠ ØµØ­ÙŠØ­ Ø§Ù„ØªØ±ØºÙŠØ¨)</strong> <!-- Updated reference slightly for accuracy -->
                </span>
            </div>
        
            <!-- 12. (Previously Option 13) - Removes Grief and Sadness -->
            <div class="dhikr-option" data-dhikr="Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø¹Ø¨Ø¯ÙƒØŒ Ø§Ø¨Ù† Ø¹Ø¨Ø¯ÙƒØŒ Ø§Ø¨Ù† Ø£Ù…ØªÙƒØŒ Ù†Ø§ØµÙŠØªÙŠ Ø¨ÙŠØ¯ÙƒØŒ Ù…Ø§Ø¶Ù ÙÙŠ Ø­ÙƒÙ…ÙƒØŒ Ø¹Ø¯Ù„ÙŒ ÙÙŠ Ù‚Ø¶Ø§Ø¤ÙƒØŒ Ø£Ø³Ø£Ù„Ùƒ Ø¨ÙƒÙ„ Ø§Ø³Ù… Ù‡Ùˆ Ù„Ùƒ Ø³Ù…ÙŠØª Ø¨Ù‡ Ù†ÙØ³ÙƒØŒ Ø£Ùˆ Ø¹Ù„Ù…ØªÙ‡ Ø£Ø­Ø¯Ù‹Ø§ Ù…Ù† Ø®Ù„Ù‚ÙƒØŒ Ø£Ùˆ Ø£Ù†Ø²Ù„ØªÙ‡ ÙÙŠ ÙƒØªØ§Ø¨ÙƒØŒ Ø£Ùˆ Ø§Ø³ØªØ£Ø«Ø±Øª Ø¨Ù‡ ÙÙŠ Ø¹Ù„Ù… Ø§Ù„ØºÙŠØ¨ Ø¹Ù†Ø¯ÙƒØŒ Ø£Ù† ØªØ¬Ø¹Ù„ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø±Ø¨ÙŠØ¹ Ù‚Ù„Ø¨ÙŠØŒ ÙˆÙ†ÙˆØ± ØµØ¯Ø±ÙŠØŒ ÙˆØ¬Ù„Ø§Ø¡ Ø­Ø²Ù†ÙŠØŒ ÙˆØ°Ù‡Ø§Ø¨ Ù‡Ù…ÙŠ"> <!-- Added full dua for completeness in data-dhikr -->
                <span class="dhikr-text">Ø§Ù„Ù„Ù‡Ù… Ø¥Ù†ÙŠ Ø¹Ø¨Ø¯ÙƒØŒ Ø§Ø¨Ù† Ø¹Ø¨Ø¯ÙƒØŒ Ø§Ø¨Ù† Ø£Ù…ØªÙƒØŒ Ù†Ø§ØµÙŠØªÙŠ Ø¨ÙŠØ¯ÙƒØŒ Ù…Ø§Ø¶Ù ÙÙŠ Ø­ÙƒÙ…ÙƒØŒ Ø¹Ø¯Ù„ÙŒ ÙÙŠ Ù‚Ø¶Ø§Ø¤ÙƒØŒ Ø£Ø³Ø£Ù„Ùƒ Ø¨ÙƒÙ„ Ø§Ø³Ù… Ù‡Ùˆ Ù„Ùƒ Ø³Ù…ÙŠØª Ø¨Ù‡ Ù†ÙØ³ÙƒØŒ Ø£Ùˆ Ø¹Ù„Ù…ØªÙ‡ Ø£Ø­Ø¯Ù‹Ø§ Ù…Ù† Ø®Ù„Ù‚ÙƒØŒ Ø£Ùˆ Ø£Ù†Ø²Ù„ØªÙ‡ ÙÙŠ ÙƒØªØ§Ø¨ÙƒØŒ Ø£Ùˆ Ø§Ø³ØªØ£Ø«Ø±Øª Ø¨Ù‡ ÙÙŠ Ø¹Ù„Ù… Ø§Ù„ØºÙŠØ¨ Ø¹Ù†Ø¯ÙƒØŒ Ø£Ù† ØªØ¬Ø¹Ù„ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø±Ø¨ÙŠØ¹ Ù‚Ù„Ø¨ÙŠØŒ ÙˆÙ†ÙˆØ± ØµØ¯Ø±ÙŠØŒ ÙˆØ¬Ù„Ø§Ø¡ Ø­Ø²Ù†ÙŠØŒ ÙˆØ°Ù‡Ø§Ø¨ Ù‡Ù…ÙŠ (Ø¯Ø¹Ø§Ø¡ Ø§Ù„Ù‡Ù… ÙˆØ§Ù„Ø­Ø²Ù†)</span> <!-- Shortened display text -->
                <span class="dhikr-evidence">
                    Ù‚Ø§Ù„ Ø§Ù„Ù†Ø¨ÙŠ ï·º: "Ù…Ø§ Ø£ØµØ§Ø¨ Ø£Ø­Ø¯Ø§Ù‹ Ù‚Ø· Ù‡Ù… ÙˆÙ„Ø§ Ø­Ø²Ù† ÙÙ‚Ø§Ù„: ... Ø¥Ù„Ø§ Ø£Ø°Ù‡Ø¨ Ø§Ù„Ù„Ù‡ Ù‡Ù…Ù‡ ÙˆØ­Ø²Ù†Ù‡ØŒ ÙˆØ£Ø¨Ø¯Ù„Ù‡ Ù…ÙƒØ§Ù†Ù‡ ÙØ±Ø¬Ù‹Ø§".
                    <strong>(Ø±ÙˆØ§Ù‡ Ø£Ø­Ù…Ø¯ ÙˆØµØ­Ø­Ù‡ Ø§Ù„Ø£Ù„Ø¨Ø§Ù†ÙŠ)</strong>
                </span>
            </div>
        
            <!-- 13. (Previously Option 3) - Istighfar: Prophet's practice, brings relief/provision -->
            <div class="dhikr-option" data-dhikr="Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡">
                <span class="dhikr-text">Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡</span>
                <span class="dhikr-evidence">
                    Ù‚Ø§Ù„ Ø§Ù„Ù†Ø¨ÙŠ ï·º: "ÙˆØ§Ù„Ù„Ù‡ Ø¥Ù†ÙŠ Ù„Ø£Ø³ØªØºÙØ± Ø§Ù„Ù„Ù‡ ÙˆØ£ØªÙˆØ¨ Ø¥Ù„ÙŠÙ‡ ÙÙŠ Ø§Ù„ÙŠÙˆÙ… Ø£ÙƒØ«Ø± Ù…Ù† Ø³Ø¨Ø¹ÙŠÙ† Ù…Ø±Ø©".
                    <strong>(Ø±ÙˆØ§Ù‡ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ)</strong>.
                    ÙˆÙ‚Ø§Ù„ ï·º: "Ù…Ù† Ù„Ø²Ù… Ø§Ù„Ø§Ø³ØªØºÙØ§Ø± Ø¬Ø¹Ù„ Ø§Ù„Ù„Ù‡ Ù„Ù‡ Ù…Ù† ÙƒÙ„ Ù‡Ù… ÙØ±Ø¬Ù‹Ø§ØŒ ÙˆÙ…Ù† ÙƒÙ„ Ø¶ÙŠÙ‚ Ù…Ø®Ø±Ø¬Ù‹Ø§ØŒ ÙˆØ±Ø²Ù‚Ù‡ Ù…Ù† Ø­ÙŠØ« Ù„Ø§ ÙŠØ­ØªØ³Ø¨".
                    <strong>(Ø±ÙˆØ§Ù‡ Ø£Ø¨Ùˆ Ø¯Ø§ÙˆØ¯ ÙˆØ§Ø¨Ù† Ù…Ø§Ø¬Ù‡)</strong>
                </span>
            </div>
        
            <!-- 14. (Previously Option 12) - Dua for Distress (Karb) -->
            <div class="dhikr-option" data-dhikr="Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ… Ø§Ù„Ø­Ù„ÙŠÙ…ØŒ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ Ø±Ø¨ Ø§Ù„Ø¹Ø±Ø´ Ø§Ù„Ø¹Ø¸ÙŠÙ…ØŒ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ Ø±Ø¨ Ø§Ù„Ø³Ù…Ø§ÙˆØ§Øª ÙˆØ±Ø¨ Ø§Ù„Ø£Ø±Ø¶ ÙˆØ±Ø¨ Ø§Ù„Ø¹Ø±Ø´ Ø§Ù„ÙƒØ±ÙŠÙ…">
                <span class="dhikr-text">Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ Ø§Ù„Ø¹Ø¸ÙŠÙ… Ø§Ù„Ø­Ù„ÙŠÙ…ØŒ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ Ø±Ø¨ Ø§Ù„Ø¹Ø±Ø´ Ø§Ù„Ø¹Ø¸ÙŠÙ…ØŒ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø§Ù„Ù„Ù‡ Ø±Ø¨ Ø§Ù„Ø³Ù…Ø§ÙˆØ§Øª  ÙˆØ±Ø¨ Ø§Ù„Ø£Ø±Ø¶ ÙˆØ±Ø¨ Ø§Ù„Ø¹Ø±Ø´ Ø§Ù„ÙƒØ±ÙŠÙ… (Ø¯Ø¹Ø§Ø¡ Ø§Ù„ÙƒØ±Ø¨)</span>
                <span class="dhikr-evidence">
                    Ø£Ù† Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ï·º ÙƒØ§Ù† ÙŠÙ‚ÙˆÙ„ Ø¹Ù†Ø¯ Ø§Ù„ÙƒØ±Ø¨: "...".
                    <strong>(Ø±ÙˆØ§Ù‡ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ ÙˆÙ…Ø³Ù„Ù…)</strong>
                </span>
            </div>
        
            <!-- 15. (Previously Option 11) - Dua for Distress (Makroob) -->
            <div class="dhikr-option" data-dhikr="Ø§Ù„Ù„Ù‡Ù… Ø±Ø­Ù…ØªÙƒ Ø£Ø±Ø¬Ùˆ ÙÙ„Ø§ ØªÙƒÙ„Ù†ÙŠ Ø¥Ù„Ù‰ Ù†ÙØ³ÙŠ Ø·Ø±ÙØ© Ø¹ÙŠÙ†ØŒ ÙˆØ£ØµÙ„Ø­ Ù„ÙŠ Ø´Ø£Ù†ÙŠ ÙƒÙ„Ù‡ØŒ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø£Ù†Øª">
                <span class="dhikr-text">Ø§Ù„Ù„Ù‡Ù… Ø±Ø­Ù…ØªÙƒ Ø£Ø±Ø¬Ùˆ ÙÙ„Ø§ ØªÙƒÙ„Ù†ÙŠ Ø¥Ù„Ù‰ Ù†ÙØ³ÙŠ Ø·Ø±ÙØ© Ø¹ÙŠÙ†ØŒ ÙˆØ£ØµÙ„Ø­ Ù„ÙŠ Ø´Ø£Ù†ÙŠ ÙƒÙ„Ù‡ØŒ Ù„Ø§ Ø¥Ù„Ù‡ Ø¥Ù„Ø§ Ø£Ù†Øª (Ø¯Ø¹Ø§Ø¡ Ø§Ù„ÙƒØ±Ø¨)</span>
                <span class="dhikr-evidence">
                    Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ï·º: "Ø¯Ø¹ÙˆØ§Øª Ø§Ù„Ù…ÙƒØ±ÙˆØ¨: ...".
                    <strong>(Ø±ÙˆØ§Ù‡ Ø£Ø¨Ùˆ Ø¯Ø§ÙˆØ¯ ÙˆØ­Ø³Ù†Ù‡ Ø§Ù„Ø£Ù„Ø¨Ø§Ù†ÙŠ)</strong> <!-- Corrected authenticity -->
                </span>
            </div>
        
             <!-- 16. (Previously Option 7) - Statement of Trust (Tawakkul) -->
            <div class="dhikr-option" data-dhikr="Ø­Ø³Ø¨Ù†Ø§ Ø§Ù„Ù„Ù‡ ÙˆÙ†Ø¹Ù… Ø§Ù„ÙˆÙƒÙŠÙ„">
                <span class="dhikr-text">Ø­Ø³Ø¨Ù†Ø§ Ø§Ù„Ù„Ù‡ ÙˆÙ†Ø¹Ù… Ø§Ù„ÙˆÙƒÙŠÙ„</span>
                <span class="dhikr-evidence">
                    ï´¿Ø§Ù„Ù‘ÙØ°ÙÙŠÙ†Ù Ù‚ÙØ§Ù„Ù Ù„ÙÙ‡ÙÙ…Ù Ø§Ù„Ù†Ù‘ÙØ§Ø³Ù Ø¥ÙÙ†Ù‘Ù Ø§Ù„Ù†Ù‘ÙØ§Ø³Ù Ù‚ÙØ¯Ù’ Ø¬ÙÙ…ÙØ¹ÙÙˆØ§ Ù„ÙÙƒÙÙ…Ù’ ÙÙØ§Ø®Ù’Ø´ÙÙˆÙ’Ù‡ÙÙ…Ù’ ÙÙØ²ÙØ§Ø¯ÙÙ‡ÙÙ…Ù’ Ø¥ÙÙŠÙ…ÙØ§Ù†Ù‹Ø§ ÙˆÙÙ‚ÙØ§Ù„ÙÙˆØ§ Ø­ÙØ³Ù’Ø¨ÙÙ†ÙØ§ Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙˆÙÙ†ÙØ¹Ù’Ù…Ù Ø§Ù„Ù’ÙˆÙÙƒÙÙŠÙ„Ù * ÙÙØ§Ù†Ù‚ÙÙ„ÙØ¨ÙÙˆØ§ Ø¨ÙÙ†ÙØ¹Ù’Ù…ÙØ©Ù Ù…Ù‘ÙÙ†Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù ÙˆÙÙÙØ¶Ù’Ù„Ù Ù„Ù‘ÙÙ…Ù’ ÙŠÙÙ…Ù’Ø³ÙØ³Ù’Ù‡ÙÙ…Ù’ Ø³ÙÙˆØ¡ÙŒ ÙˆÙØ§ØªÙ‘ÙØ¨ÙØ¹ÙÙˆØ§ Ø±ÙØ¶Ù’ÙˆÙØ§Ù†Ù Ø§Ù„Ù„Ù‘ÙÙ‡Ù...ï´¾. ÙˆÙ‚Ø§Ù„Ù‡Ø§ Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø¹Ù„ÙŠÙ‡ Ø§Ù„Ø³Ù„Ø§Ù… Ø­ÙŠÙ† Ø£Ù„Ù‚ÙŠ ÙÙŠ Ø§Ù„Ù†Ø§Ø±.
                    <strong>(Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†: 173-174ØŒ ÙˆØ±ÙˆØ§Ù‡ Ø§Ù„Ø¨Ø®Ø§Ø±ÙŠ Ø¹Ù† Ø§Ø¨Ù† Ø¹Ø¨Ø§Ø³)</strong> <!-- Added context -->
                </span>
            </div>
        
        </div> <!-- End Dhikr Selection -->
    </div> <!-- End Container -->

    <!-- Footer -->
    <footer>Â© Ø§Ù„Ù…Ø³Ø¨Ø­Ø© - ØµØ¯Ù‚Ø© Ø¬Ø§Ø±ÙŠØ© Ø¹Ù† Ù…Ø·ÙˆØ±Ù‡Ø§ ÙˆÙˆØ§Ù„Ø¯ÙŠÙ‡</footer>

    <!-- Share/Install Popup -->
    <div id="share-popup-overlay">
        <div id="share-popup">
            <button id="close-popup-button" aria-label="Ø¥ØºÙ„Ø§Ù‚">Ã—</button>
            <h3>Ø´Ø§Ø±Ùƒ Ø§Ù„Ø®ÙŠØ± ÙˆØ§Ù†Ø´Ø± Ø§Ù„Ø£Ø¬Ø±!</h3>
            <p><strong>Ù‡Ù„ ØªØ¹Ù„Ù…ØŸ</strong> ÙŠÙ…ÙƒÙ†Ùƒ ØªØ«Ø¨ÙŠØª ØªØ·Ø¨ÙŠÙ‚ <strong>Ø§Ù„Ù…Ø³Ø¨Ø­Ø©</strong> Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ Ø¨Ø³Ù‡ÙˆÙ„Ø© Ø­ØªÙ‰ Ø¨Ø¯ÙˆÙ† Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª! Ø§Ø¨Ø­Ø« Ø¹Ù† Ø®ÙŠØ§Ø± <strong>"Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©"</strong> Ø£Ùˆ "Install App" ÙÙŠ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªØµÙØ­ (â‹® Ø£Ùˆ Ø²Ø± Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©).</p>
            <div class="popup-section popup">
                <p>Ù‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ï·º: <strong>"Ø§Ù„Ø¯Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø®ÙŠØ± ÙƒÙØ§Ø¹Ù„Ù‡"</strong> (Ø±ÙˆØ§Ù‡ Ù…Ø³Ù„Ù…). Ø³Ø§Ù‡Ù… ÙÙŠ Ù†Ø´Ø± Ù‡Ø°Ø§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„ÙŠÙƒÙˆÙ† Ù„Ùƒ Ø£Ø¬Ø± ÙƒÙ„ Ù…Ù† ÙŠØ³ØªØ®Ø¯Ù…Ù‡ Ø¨Ø³Ø¨Ø¨ÙƒØŒ ÙØªÙƒÙˆÙ† ØµØ¯Ù‚Ø© Ø¬Ø§Ø±ÙŠØ© Ù„Ùƒ Ø¨Ø¥Ø°Ù† Ø§Ù„Ù„Ù‡.</p>
                <p>Ø§Ø¶ØºØ· Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ø¹ Ø±Ø³Ø§Ù„Ø© Ø¯Ø¹ÙˆÙŠØ©:</p>
                <div class="share-buttons">
                    <a href="#" id="whatsapp-share-popup" aria-label="Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨"><img src="icons/whatsapp-icon.png" alt="WhatsApp"></a>
                    <a href="#" id="telegram-share-popup" aria-label="Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ø¨Ø± ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…"><img src="icons/telegram-icon.png" alt="Telegram"></a>
                    <a href="#" id="copy-link-popup" aria-label="Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· ÙˆØ§Ù„Ø±Ø³Ø§Ù„Ø©"><img src="icons/copy-link-icon.png" alt="Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·"></a>
                </div>
                 <span id="copy-status-popup"></span>
            </div>
        </div>
    </div>

    <script>
        // --- Global Variables & Constants ---
        let dhikrScores = {}; // Stores { [dhikrKey]: { current: number } }
        let selectedDhikrKey = null; // Key of the currently selected dhikr (from sessionStorage)
        let selectedDhikrElement = null; // Reference to the selected DOM element
        let highestEverCount = 0; // Stores the overall highest count achieved (from localStorage)

        // DOM Elements
        const hitsElement = document.querySelector("#counter-display .hits");
        const topScoreElement = document.querySelector(".top-score");
        const selectedDhikrDisplay = document.getElementById("selected-dhikr");
        const resetButton = document.getElementById("reset-button");
        const counterArea = document.getElementById("counter-area");
        const dhikrOptions = document.querySelectorAll(".dhikr-option");
        const dhikrSelectionArea = document.getElementById("dhikr-selection");
        const scrollDownArrow = document.getElementById("scroll-down-arrow");
        const sharePopupOverlay = document.getElementById('share-popup-overlay');
        const sharePopup = document.getElementById('share-popup');
        const closePopupButton = document.getElementById('close-popup-button');
        const whatsappSharePopup = document.getElementById('whatsapp-share-popup');
        const telegramSharePopup = document.getElementById('telegram-share-popup');
        const copyLinkPopup = document.getElementById('copy-link-popup');
        const copyStatusPopup = document.getElementById('copy-status-popup');
        const whatsappShareTop = document.getElementById('whatsapp-share-top');
        const telegramShareTop = document.getElementById('telegram-share-top');
        const copyLinkTop = document.getElementById('copy-link-top');
        const copyStatusTop = document.getElementById('copy-status-top');
        const enableRemindersButton = document.getElementById('enable-reminders-button');
        const reminderStatusElement = document.getElementById('reminder-status');

        // Storage Keys
        const STORAGE_KEY_SCORES = 'AlMisbahahScores_v2'; // Key for current counts object (localStorage) - Increment version if structure changes
        const STORAGE_KEY_HIGHEST_COUNT = 'AlMisbahahHighestCount_v1'; // Key for the overall highest count (localStorage)
        const STORAGE_KEY_LAST_DHIKR = 'AlMisbahahLastDhikr_Session'; // Key for last selected Dhikr (sessionStorage)
        const STORAGE_KEY_POPUP_SHOWN = 'AlMisbahahPopupShown_Session'; // Key for popup state (sessionStorage)

        // Shared Data for Sharing
        const shareUrl = "https://yelsabbagh.github.io/AlMisbahah/";
        const shareBaseText = `ğŸŒŸ *Ø§Ù„Ù…Ø³Ø¨Ø­Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©* ğŸŒŸ\n\nØ§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… ÙˆØ±Ø­Ù…Ø© Ø§Ù„Ù„Ù‡ ÙˆØ¨Ø±ÙƒØ§ØªÙ‡ØŒ\n\nÙŠØ³Ø±Ù‘Ù†Ø§ Ø£Ù† Ù†Ù‚Ø¯Ù… Ù„ÙƒÙ… ØªØ·Ø¨ÙŠÙ‚ *Ø§Ù„Ù…Ø³Ø¨Ø­Ø© Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©* Ø§Ù„Ø¨Ø³ÙŠØ· ÙˆØ§Ù„Ù…ÙÙŠØ¯ Ù„Ù…Ø³Ø§Ø¹Ø¯ØªÙƒÙ… Ø¹Ù„Ù‰ ØªØªØ¨Ù‘Ø¹ Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„ÙŠÙˆÙ…ÙŠØ©.\n\nâœ¨ *Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:*\n- Ø³Ù‡Ù„ Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù….\n- ÙŠØ­ÙØ¸ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠ Ù„Ù„Ø¹Ø¯.\n- ÙŠÙ…ÙƒÙ† ØªØ«Ø¨ÙŠØªÙ‡ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ ("Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©") ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù…Ù‡ *Ø¨Ø¯ÙˆÙ† Ø¥Ù†ØªØ±Ù†Øª*!\n\nÙ‚Ø§Ù„ Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ï·º: "*Ø§Ù„Ø¯Ù‘ÙØ§Ù„Ù‘Ù Ø¹Ù„Ù‰ Ø§Ù„Ø®ÙŠØ± ÙƒÙØ§Ø¹Ù„Ù‡*" (Ø±ÙˆØ§Ù‡ Ù…Ø³Ù„Ù…).\n\nğŸ‘ˆ Ù„Ø§ ØªÙ†Ø³ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¹ Ù…Ù† ØªØ­Ø¨ØŒ Ù„ØªÙ†Ø§Ù„ Ø£Ø¬Ø± Ø§Ù„Ø¯Ù„Ø§Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø®ÙŠØ± ÙˆØªÙƒÙˆÙ† Ù„Ùƒ ØµØ¯Ù‚Ø© Ø¬Ø§Ø±ÙŠØ© Ø¨Ø¥Ø°Ù† Ø§Ù„Ù„Ù‡.\n\nğŸ”— Ø±Ø§Ø¨Ø· Ø§Ù„ØªØ·Ø¨ÙŠÙ‚:\n${shareUrl}`;
        const encodedShareText = encodeURIComponent(shareBaseText);


        // --- Storage Handling ---
        function loadScores() {
            // Load current counts for each dhikr from localStorage
            const savedScores = localStorage.getItem(STORAGE_KEY_SCORES);
            if (savedScores) {
                try {
                    dhikrScores = JSON.parse(savedScores);
                    // Ensure loaded scores have the expected structure (just 'current')
                    Object.keys(dhikrScores).forEach(key => {
                        if (typeof dhikrScores[key] !== 'object' || dhikrScores[key] === null || typeof dhikrScores[key].current !== 'number') {
                             console.warn(`Invalid score structure for ${key}, resetting.`);
                             dhikrScores[key] = { current: 0 };
                        }
                        // Remove any legacy 'top' properties if they exist
                        if (dhikrScores[key].hasOwnProperty('top')) {
                            delete dhikrScores[key].top;
                        }
                    });
                } catch (e) {
                    console.error("Failed to parse dhikrScores:", e);
                    dhikrScores = {};
                }
            } else {
                dhikrScores = {};
            }

            // Load the overall highest count ever achieved from localStorage
            highestEverCount = parseInt(localStorage.getItem(STORAGE_KEY_HIGHEST_COUNT) || '0', 10);
            if (isNaN(highestEverCount)) highestEverCount = 0; // Ensure it's a number

            // Load last selected Dhikr from sessionStorage (resets per session)
            selectedDhikrKey = sessionStorage.getItem(STORAGE_KEY_LAST_DHIKR);
         }

        function saveScores() {
             try {
                // Save current counts object to localStorage
                localStorage.setItem(STORAGE_KEY_SCORES, JSON.stringify(dhikrScores));
                // Save the overall highest count to localStorage
                localStorage.setItem(STORAGE_KEY_HIGHEST_COUNT, highestEverCount.toString());
                // Save last selected Dhikr to sessionStorage
                sessionStorage.setItem(STORAGE_KEY_LAST_DHIKR, selectedDhikrKey || '');
             } catch (e) { console.error("Failed to save scores:", e); }
        }

        // --- Rendering ---
        function updateDisplay() {
            // Get current count for the selected dhikr, default to 0 if none selected
            const currentScore = selectedDhikrKey && dhikrScores[selectedDhikrKey] ? dhikrScores[selectedDhikrKey].current : 0;

            if (hitsElement) hitsElement.textContent = currentScore;
            if (topScoreElement) topScoreElement.textContent = `Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠ: ${highestEverCount}`; // Display the overall highest count
            if (selectedDhikrDisplay) selectedDhikrDisplay.textContent = selectedDhikrKey || 'Ø§Ø®ØªØ± Ø°ÙƒØ±Ø§Ù‹ Ù„Ù„Ø¨Ø¯Ø¡';
            if (resetButton) resetButton.style.display = selectedDhikrKey ? '' : 'none';
        }

        // --- Core Logic ---
        function selectDhikr(dhikrKey, dhikrElement) {
             if (typeof(Storage) === "undefined") { console.warn("Local/Session storage not available."); }
            if (selectedDhikrElement) { selectedDhikrElement.classList.remove('selected'); }

            if (selectedDhikrKey === dhikrKey) {
                // Deselect if clicking the same one again
                selectedDhikrKey = null;
                selectedDhikrElement = null;
            } else {
                // Select the new one
                selectedDhikrKey = dhikrKey;
                selectedDhikrElement = dhikrElement;
                selectedDhikrElement.classList.add('selected');
                // Ensure score object exists for this dhikr, initialize if not
                if (!dhikrScores[selectedDhikrKey]) {
                    dhikrScores[selectedDhikrKey] = { current: 0 };
                }
                 window.scrollTo({ top: 0, behavior: 'smooth' });
            }
            // *** NO LONGER RESETTING current count here ***
            saveScores(); // Save selection status (session) and potentially initialized score (local)
            updateDisplay(); // Update the display to show the count for the selected dhikr
        }

        function incrementCount() {
             if (!selectedDhikrKey) return; // Only count if a dhikr is selected
             if (!dhikrScores[selectedDhikrKey]) {
                 dhikrScores[selectedDhikrKey] = { current: 0 }; // Safety init
             }

            // Increment current count for the selected dhikr
            dhikrScores[selectedDhikrKey].current++;

            // Check if this new current count exceeds the overall highest count
            if (dhikrScores[selectedDhikrKey].current > highestEverCount) {
                highestEverCount = dhikrScores[selectedDhikrKey].current;
                 console.log("New highest ever count:", highestEverCount);
            }

            saveScores(); // Save updated current count and potentially new highestEverCount
            updateDisplay();

            // --- VIBRATION ---
            if ('vibrate' in navigator) {
                try { navigator.vibrate(50); } catch (err) { console.warn("Vibration failed:", err); }
            }
            // --- END VIBRATION ---
        }

        function resetCurrentCount() {
            if (!selectedDhikrKey || !dhikrScores[selectedDhikrKey]) return;
            // Only reset the current count for the selected dhikr
            dhikrScores[selectedDhikrKey].current = 0;
            saveScores(); // Save the reset current count
            updateDisplay();
            // Note: Does NOT reset highestEverCount
        }

        function scrollToDhikrSelection() { dhikrSelectionArea.scrollIntoView({ behavior: 'smooth' }); }

        // --- Popup Logic ---
        function showPopup() {
            if (!sharePopupOverlay) return; // Safety check
            const isStandalone = window.matchMedia('(display-mode: standalone)').matches;
            const popupShownSession = sessionStorage.getItem(STORAGE_KEY_POPUP_SHOWN);
            if (!isStandalone && !popupShownSession) {
                sharePopupOverlay.style.display = 'flex';
                sessionStorage.setItem(STORAGE_KEY_POPUP_SHOWN, 'true');
                if(copyStatusPopup) copyStatusPopup.textContent = '';
            } else { console.log('Popup not shown (standalone or shown this session)'); }
        }
        function hidePopup() { if(sharePopupOverlay) sharePopupOverlay.style.display = 'none'; }

        // --- Generic Share Functions ---
        function shareViaWhatsapp() { const whatsappUrl = `https://wa.me/?text=${encodeURIComponent(shareBaseText)}`; window.open(whatsappUrl, '_blank'); }
        function shareViaTelegram() { const telegramUrl = `https://t.me/share/url?url=${encodeURIComponent(shareUrl)}&text=${encodedShareText}`; window.open(telegramUrl, '_blank'); }
        function copyShareLink(statusElement) {
            if (!statusElement || !navigator.clipboard) return; // Safety check
             navigator.clipboard.writeText(shareBaseText)
                .then(() => { statusElement.textContent = 'ØªÙ… Ø§Ù„Ù†Ø³Ø®!'; setTimeout(() => { statusElement.textContent = ''; }, 2500); })
                .catch(err => { console.error('Failed to copy text: ', err); statusElement.textContent = 'ÙØ´Ù„ Ø§Ù„Ù†Ø³Ø®!'; setTimeout(() => { statusElement.textContent = ''; }, 2500); });
        }

        // --- Reminder Functions ---
        async function registerPeriodicSync() {
            console.log('Attempting to register periodic sync...');
            if (!('serviceWorker' in navigator && 'PeriodicSyncManager' in window)) {
                 console.warn('Periodic background sync is not supported.');
                 if (reminderStatusElement) reminderStatusElement.textContent = 'Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„Ø¯ÙˆØ±ÙŠØ© ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…Ø© Ø¨Ù‡Ø°Ø§ Ø§Ù„Ù…ØªØµÙØ­.';
                 return false;
            }

            try {
                const notificationPermission = await Notification.requestPermission();
                if (notificationPermission !== 'granted') {
                    console.warn('Notification permission not granted.');
                    if (reminderStatusElement) reminderStatusElement.textContent = 'ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ°ÙƒÙŠØ±.';
                    return false;
                }
                console.log('Notification permission granted.');

                const registration = await navigator.serviceWorker.ready;

                const periodicSyncPermissionStatus = await registration.permissions.query({ name: 'periodic-background-sync' });
                console.log('Periodic sync permission state:', periodicSyncPermissionStatus.state);

                if (periodicSyncPermissionStatus.state === 'denied') {
                    console.warn('Periodic sync permission denied.');
                    if (reminderStatusElement) reminderStatusElement.textContent = 'ØªÙ… Ø±ÙØ¶ Ø¥Ø°Ù† Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¯ÙˆØ±ÙŠØ©. ÙŠØ±Ø¬Ù‰ ØªÙØ¹ÙŠÙ„Ù‡ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØµÙØ­.';
                    return false;
                }

                await registration.periodicSync.register('dhikr-reminder', { minInterval: 12 * 60 * 60 * 1000 });
                console.log('Periodic background sync "dhikr-reminder" registered successfully!');
                return true;

            } catch (error) {
                 console.error('Failed during periodic sync registration process:', error);
                 if (reminderStatusElement) reminderStatusElement.textContent = 'ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„Ø¯ÙˆØ±ÙŠØ©.';
                 return false;
            }
        }

        async function checkPeriodicSyncStatus() {
             console.log('Checking periodic sync status...');
             if (enableRemindersButton) enableRemindersButton.style.display = 'none';
             if (reminderStatusElement) reminderStatusElement.textContent = '';

             if (!('serviceWorker' in navigator && 'PeriodicSyncManager' in window)) {
                  console.log('Periodic sync not supported, hiding reminder UI.');
                  if (reminderStatusElement) reminderStatusElement.textContent = 'Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„Ø¯ÙˆØ±ÙŠØ© ØºÙŠØ± Ù…Ø¯Ø¹ÙˆÙ…Ø©.';
                  return;
             }

             try {
                 const registration = await navigator.serviceWorker.ready;
                 const tags = await registration.periodicSync.getTags();

                 if (tags.includes('dhikr-reminder')) {
                     console.log('Periodic sync "dhikr-reminder" is registered.');
                     if (reminderStatusElement) reminderStatusElement.textContent = 'ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ù…ÙØ¹Ù„Ø©.';
                     if (enableRemindersButton) enableRemindersButton.style.display = 'none';
                 } else {
                     console.log('Periodic sync "dhikr-reminder" is not registered.');
                     const notificationPermissionStatus = await navigator.permissions.query({ name: 'notifications' });
                     console.log('Notification permission state:', notificationPermissionStatus.state);

                     if (notificationPermissionStatus.state === 'denied') {
                         if (reminderStatusElement) reminderStatusElement.textContent = 'ØªÙ… Ø­Ø¸Ø± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ù‡Ø§ Ù„ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ°ÙƒÙŠØ±Ø§Øª.';
                     } else { // Granted or Prompt
                         try {
                             const periodicSyncPermissionStatus = await navigator.permissions.query({ name: 'periodic-background-sync' });
                             console.log('Periodic sync permission state:', periodicSyncPermissionStatus.state);
                             if (periodicSyncPermissionStatus.state === 'denied') {
                                 if (reminderStatusElement) reminderStatusElement.textContent = 'ØªÙ… Ø±ÙØ¶ Ø¥Ø°Ù† Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø© Ø§Ù„Ø¯ÙˆØ±ÙŠØ©. ÙŠØ±Ø¬Ù‰ ØªÙØ¹ÙŠÙ„Ù‡ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØµÙØ­.';
                             } else { // granted or prompt
                                 if (enableRemindersButton) enableRemindersButton.style.display = 'block';
                             }
                         } catch (permError) {
                              console.warn("Could not query periodic sync permission, showing button.", permError);
                              if (enableRemindersButton) enableRemindersButton.style.display = 'block';
                         }
                     }
                 }
             } catch (error) {
                 console.error('Failed to check periodic sync status:', error);
                 if (reminderStatusElement) reminderStatusElement.textContent = 'Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„ØªØ°ÙƒÙŠØ±.';
             }
        }

        // --- Event Listeners ---
        // Add checks to ensure elements exist before adding listeners
        if (dhikrOptions) dhikrOptions.forEach(option => option.addEventListener('click', () => selectDhikr(option.dataset.dhikr, option)));
        if (counterArea) counterArea.addEventListener('click', (event) => { if (!event.target.closest('#reset-button')) incrementCount(); });
        if (resetButton) resetButton.addEventListener('click', (event) => { event.stopPropagation(); resetCurrentCount(); });
        if (scrollDownArrow) scrollDownArrow.addEventListener('click', (event) => { event.stopPropagation(); scrollToDhikrSelection(); });
        document.body.addEventListener('keyup', (event) => {
            const activeElement = document.activeElement;
            const isTyping = activeElement && (activeElement.tagName === 'INPUT' || activeElement.tagName === 'TEXTAREA' || activeElement.isContentEditable);
            const isResetButtonFocused = activeElement === resetButton && (event.key === 'Enter' || event.key === ' ');
            const allowedKeys = ['Enter', ' ', 'Spacebar', 'ArrowUp', 'ArrowDown', 'ArrowLeft', 'ArrowRight'];
            if (!isTyping && !isResetButtonFocused && allowedKeys.includes(event.key)) { incrementCount(); if (event.key.startsWith('Arrow')) { event.preventDefault(); } }
        });
        if (closePopupButton) closePopupButton.addEventListener('click', hidePopup);
        if (sharePopupOverlay) sharePopupOverlay.addEventListener('click', (event) => { if (event.target === sharePopupOverlay) { hidePopup(); } });
        if (whatsappSharePopup) whatsappSharePopup.addEventListener('click', (e) => { e.preventDefault(); shareViaWhatsapp(); hidePopup(); });
        if (telegramSharePopup) telegramSharePopup.addEventListener('click', (e) => { e.preventDefault(); shareViaTelegram(); hidePopup(); });
        if (copyLinkPopup) copyLinkPopup.addEventListener('click', (e) => { e.preventDefault(); copyShareLink(copyStatusPopup); setTimeout(hidePopup, 2600); });
        if (whatsappShareTop) whatsappShareTop.addEventListener('click', (e) => { e.preventDefault(); shareViaWhatsapp(); });
        if (telegramShareTop) telegramShareTop.addEventListener('click', (e) => { e.preventDefault(); shareViaTelegram(); });
        if (copyLinkTop) copyLinkTop.addEventListener('click', (e) => { e.preventDefault(); copyShareLink(copyStatusTop); });

        // Reminder Button Listener
        if (enableRemindersButton) {
            enableRemindersButton.addEventListener('click', async () => {
                enableRemindersButton.disabled = true;
                enableRemindersButton.textContent = 'Ø¬Ø§Ø±Ù Ø§Ù„ØªÙØ¹ÙŠÙ„...';
                if (reminderStatusElement) reminderStatusElement.textContent = '';
                const success = await registerPeriodicSync();
                if (success) {
                    enableRemindersButton.style.display = 'none';
                    if (reminderStatusElement) reminderStatusElement.textContent = 'ØªÙ… ØªÙØ¹ÙŠÙ„ ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­!';
                } else {
                     enableRemindersButton.textContent = 'ØªÙØ¹ÙŠÙ„ ØªØ°ÙƒÙŠØ±Ø§Øª Ø§Ù„Ø£Ø°ÙƒØ§Ø± Ø§Ù„ÙŠÙˆÙ…ÙŠØ©';
                }
                enableRemindersButton.disabled = false;
            });
        }

        // --- Initialization ---
        loadScores(); // Load permanent scores/highest count and session's last dhikr
        // Apply selection visually if a dhikr was loaded from session storage
        if (selectedDhikrKey) {
            const lastSelectedElement = document.querySelector(`.dhikr-option[data-dhikr="${selectedDhikrKey}"]`);
            if (lastSelectedElement) {
                selectedDhikrElement = lastSelectedElement;
                selectedDhikrElement.classList.add('selected');
                // Ensure score object exists even if loaded from session
                if (!dhikrScores[selectedDhikrKey]) {
                    dhikrScores[selectedDhikrKey] = { current: 0 };
                    saveScores(); // Save the initialized score
                }
            } else {
                 console.warn("Last selected Dhikr key from session not found in options.");
                 selectedDhikrKey = null;
                 sessionStorage.removeItem(STORAGE_KEY_LAST_DHIKR); // Clear invalid key from session storage
            }
        }
        updateDisplay(); // Update counters and selected dhikr text

        // --- Load Event: Service Worker Registration & UI Setup ---
        window.addEventListener('load', () => {
            setTimeout(showPopup, 1500); // Show welcome popup

             if ('serviceWorker' in navigator) {
                 navigator.serviceWorker.register('/sw.js')
                   .then(registration => {
                       console.log('SW registration successful, scope is:', registration.scope);
                       checkPeriodicSyncStatus(); // Check reminder status AFTER SW is ready
                    })
                   .catch(error => {
                       console.log('SW registration failed:', error);
                       if(enableRemindersButton) enableRemindersButton.style.display = 'none';
                       if(reminderStatusElement) reminderStatusElement.textContent = '';
                   });
             } else {
                 console.log('Service workers not supported, hiding reminder UI.');
                 if(enableRemindersButton) enableRemindersButton.style.display = 'none';
                 if(reminderStatusElement) reminderStatusElement.textContent = '';
             }
        });

    </script>

</body>
</html>
